
  <%- include('_bootstrap_meta') %>
  <link rel="stylesheet" href="/css/home.css" type="text/css">
<body>
  <!-- <%- include('_header') %> -->
  <div class="container">
    <br />
    <div class="row">
      <div class="col-6">
        <h2>List of Students:</h2>
      </div>
      <div class="col-6 d-flex justify-content-end">
        <a href="/students/create" type="button" class="btn btn-add-student align-self-center">+ Add Student</a>
      </div>
    </div>
    <% if(students.length > 0) {%>
    <div class="mt-3 mb-3 table-container">
      <table class="table table-bordered table-striped">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Batch</th>
            <th scope="col">Email</th>
            <th scope="col">Contact</th>
	    <th scope="col">Status</th>
            <th scope="col">DSA</th>
            <th scope="col">WEB</th>
            <th scope="col">REACT</th>
            <th scope="col">Interview</th>
            <th scope="col" class="text-end">Action</th>
          </tr>
        </thead>
        <tbody id="myTable">
          <% for(let student of students) {%>
          <tr>
            <td scope="row"><%=student.name%></td>
	    <td ><%=student.batch%></td>
            <td><%=student.email%></td>
            <td><%=student.contactNumber%></td>
	    <td>
              <form class="update-form" data-student-id="<%= student.id %>">
                <input type="hidden" name="placement" value="<%= student.placement %>" />
                <select class="form-select" name="companyResult">
                  <option value="Placed" <% if(student.placement === 'Placed') { %> selected <% } %>>Selected</option>
                  <option value="Not Placed" <% if(student.placement === 'Not Placed') { %> selected <% } %>>Not Selected</option>
                </select>
                <button type="submit" class="btn btn-warning btn-sm">Update</button>
              </form>
            </td> 
            <td><%=student.dsa%></td>
            <td><%=student.webd%></td>
            <td><%=student.react%></td>
            <% if(student.interviews.length) {%>
            <td>
              <% for(let company of student.interviews){%>
              <a href="#" id="compnay_name"><%=company.company%></a>
              <%}%>
            </td>
            <%}else{%>
            <td>NONE</td>
            <%}%>
            <td class="d-flex justify-content-around align-items-center" id="student-<%= student._id %>">
              <a href="/students/delete/<%=student.id%>" type="button" class="btn btn-delete btn-small delete-link" data-student-id="<%= student._id %>">Delete</a>
            </td>
          </tr>
          <%}%>
        </tbody>
      </table>
    </div>
    <%}else{%>
    <div class="no-records">
      <h2>No Records Found</h2>
    </div>
    <%}%>
  </div>
  <%- include('_bootstrap_script') %>

<!-- Include the new JavaScript file -->
<script src="/js/script.js"></script>

</body>

